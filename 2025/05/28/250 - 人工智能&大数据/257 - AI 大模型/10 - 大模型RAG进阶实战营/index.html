<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>10 - å¤§æ¨¡å‹RAGè¿›é˜¶å®æˆ˜è¥ | æ¢¦ä¹‹ç—•</title><meta name="author" content="æ¢¦ä¹‹ç—•"><meta name="copyright" content="æ¢¦ä¹‹ç—•"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="0 å‚è€ƒèµ„æ–™ä»£ç ä»“åº“ï¼šhttps:&#x2F;&#x2F;github.com&#x2F;huangjia2019&#x2F;rag-in-action 13 è¯„ä¼°RAGç³»ç»Ÿ13.1 RAGç³»ç»Ÿè¯„ä¼°RAG çš„ç³»ç»Ÿè¯„ä¼°åˆ†ä¸ºæ£€ç´¢è¯„ä¼°å’Œå“åº”è¯„ä¼°ï¼š  å¯¹æ£€ç´¢å™¨çš„è¯„ä¼° åŒ…å«ä¸€å®šçš„ä¸»è§‚å› ç´ ï¼Œä½†ä»å¯ä»¥é‡‡ç”¨ä¿¡æ¯æ£€ç´¢é¢†åŸŸçš„ä¸€äº›æŒ‡æ ‡æ¥è¿›è¡Œè¡¡é‡ï¼Œä¾‹å¦‚ å‡†ç¡®ç‡ï¼ˆPrecisionï¼‰ã€å¬å›ç‡ï¼ˆRecallï¼‰å’Œ  æ’åå‡†ç¡®åº¦ç­‰ã€‚ ç”Ÿæˆå™¨çš„è¯„ä¼°ï¼ˆä¹Ÿç§°ä¸ºâ€œå“åº”è¯„ä¼°â€ï¼Œ">
<meta property="og:type" content="article">
<meta property="og:title" content="10 - å¤§æ¨¡å‹RAGè¿›é˜¶å®æˆ˜è¥">
<meta property="og:url" content="https://baihlup.github.io/2025/05/28/250%20-%20%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD&%E5%A4%A7%E6%95%B0%E6%8D%AE/257%20-%20AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B/10%20-%20%E5%A4%A7%E6%A8%A1%E5%9E%8BRAG%E8%BF%9B%E9%98%B6%E5%AE%9E%E6%88%98%E8%90%A5/index.html">
<meta property="og:site_name" content="æ¢¦ä¹‹ç—•">
<meta property="og:description" content="0 å‚è€ƒèµ„æ–™ä»£ç ä»“åº“ï¼šhttps:&#x2F;&#x2F;github.com&#x2F;huangjia2019&#x2F;rag-in-action 13 è¯„ä¼°RAGç³»ç»Ÿ13.1 RAGç³»ç»Ÿè¯„ä¼°RAG çš„ç³»ç»Ÿè¯„ä¼°åˆ†ä¸ºæ£€ç´¢è¯„ä¼°å’Œå“åº”è¯„ä¼°ï¼š  å¯¹æ£€ç´¢å™¨çš„è¯„ä¼° åŒ…å«ä¸€å®šçš„ä¸»è§‚å› ç´ ï¼Œä½†ä»å¯ä»¥é‡‡ç”¨ä¿¡æ¯æ£€ç´¢é¢†åŸŸçš„ä¸€äº›æŒ‡æ ‡æ¥è¿›è¡Œè¡¡é‡ï¼Œä¾‹å¦‚ å‡†ç¡®ç‡ï¼ˆPrecisionï¼‰ã€å¬å›ç‡ï¼ˆRecallï¼‰å’Œ  æ’åå‡†ç¡®åº¦ç­‰ã€‚ ç”Ÿæˆå™¨çš„è¯„ä¼°ï¼ˆä¹Ÿç§°ä¸ºâ€œå“åº”è¯„ä¼°â€ï¼Œ">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://raw.githubusercontent.com/BaihlUp/Figurebed/master/2024/41710043961_.pic.jpg">
<meta property="article:published_time" content="2025-05-28T00:00:00.000Z">
<meta property="article:modified_time" content="2025-10-10T09:27:13.964Z">
<meta property="article:author" content="æ¢¦ä¹‹ç—•">
<meta property="article:tag" content="RAG">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/BaihlUp/Figurebed/master/2024/41710043961_.pic.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://baihlup.github.io/2025/05/28/250%20-%20%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD&amp;%E5%A4%A7%E6%95%B0%E6%8D%AE/257%20-%20AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B/10%20-%20%E5%A4%A7%E6%A8%A1%E5%9E%8BRAG%E8%BF%9B%E9%98%B6%E5%AE%9E%E6%88%98%E8%90%A5/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '10 - å¤§æ¨¡å‹RAGè¿›é˜¶å®æˆ˜è¥',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-10-10 09:27:13'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://raw.githubusercontent.com/BaihlUp/Figurebed/master/2024/41710043961_.pic.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">65</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">48</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">17</div></a></div><hr class="custom-hr"/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="æ¢¦ä¹‹ç—•"><span class="site-name">æ¢¦ä¹‹ç—•</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">10 - å¤§æ¨¡å‹RAGè¿›é˜¶å®æˆ˜è¥</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-05-28T00:00:00.000Z" title="Created 2025-05-28 00:00:00">2025-05-28</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-10-10T09:27:13.964Z" title="Updated 2025-10-10 09:27:13">2025-10-10</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/AI%E5%A4%A7%E6%A8%A1%E5%9E%8B/">AIå¤§æ¨¡å‹</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="10 - å¤§æ¨¡å‹RAGè¿›é˜¶å®æˆ˜è¥"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="0-å‚è€ƒèµ„æ–™"><a href="#0-å‚è€ƒèµ„æ–™" class="headerlink" title="0 å‚è€ƒèµ„æ–™"></a>0 å‚è€ƒèµ„æ–™</h1><p><strong>ä»£ç ä»“åº“</strong>ï¼š<a target="_blank" rel="noopener" href="https://github.com/huangjia2019/rag-in-action">https://github.com/huangjia2019/rag-in-action</a></p>
<h1 id="13-è¯„ä¼°RAGç³»ç»Ÿ"><a href="#13-è¯„ä¼°RAGç³»ç»Ÿ" class="headerlink" title="13 è¯„ä¼°RAGç³»ç»Ÿ"></a>13 è¯„ä¼°RAGç³»ç»Ÿ</h1><h2 id="13-1-RAGç³»ç»Ÿè¯„ä¼°"><a href="#13-1-RAGç³»ç»Ÿè¯„ä¼°" class="headerlink" title="13.1 RAGç³»ç»Ÿè¯„ä¼°"></a>13.1 RAGç³»ç»Ÿè¯„ä¼°</h2><p><strong>RAG çš„ç³»ç»Ÿè¯„ä¼°åˆ†ä¸ºæ£€ç´¢è¯„ä¼°å’Œå“åº”è¯„ä¼°ï¼š</strong></p>
<ul>
<li>å¯¹æ£€ç´¢å™¨çš„è¯„ä¼° åŒ…å«ä¸€å®šçš„ä¸»è§‚å› ç´ ï¼Œä½†ä»å¯ä»¥é‡‡ç”¨ä¿¡æ¯æ£€ç´¢é¢†åŸŸçš„ä¸€äº›æŒ‡æ ‡æ¥è¿›è¡Œè¡¡é‡ï¼Œä¾‹å¦‚ å‡†ç¡®ç‡ï¼ˆPrecisionï¼‰ã€å¬å›ç‡ï¼ˆRecallï¼‰å’Œ  æ’åå‡†ç¡®åº¦ç­‰ã€‚</li>
<li>ç”Ÿæˆå™¨çš„è¯„ä¼°ï¼ˆä¹Ÿç§°ä¸ºâ€œå“åº”è¯„ä¼°â€ï¼Œå®é™…ä¸Šæ˜¯é’ˆå¯¹RAGç³»ç»Ÿç»™å‡ºçš„æœ€ç»ˆç»“æœè¿›è¡Œçš„æ•´ä½“è¯„ä¼°ï¼‰åˆ™æ›´åŠ å¤æ‚ã€‚å®ƒä¸ä»…è¦æ±‚éªŒè¯ç”Ÿæˆçš„ç­”æ¡ˆæ˜¯å¦åŸºäºäº‹å®ï¼ˆå³ä¸ä¸Šä¸‹æ–‡ç›¸å…³ï¼‰ï¼Œä»¥åŠæ˜¯å¦æœ‰æ•ˆåœ°å›ç­”äº†ç”¨æˆ·çš„é—®é¢˜ï¼ˆå³ä¸æŸ¥è¯¢ç›¸å…³ï¼‰ï¼Œè¿˜éœ€è¦åˆ¤æ–­ç­”æ¡ˆæ˜¯å¦æµç•…ã€å®‰å…¨ä¸”ç¬¦åˆäººç±»ä»·å€¼è§‚ã€‚ä¸ºäº†è¯„ä¼°ç”Ÿæˆå†…å®¹çš„è´¨é‡ï¼Œä¼šç»“åˆä½¿ç”¨å®šé‡æŒ‡æ ‡ï¼ˆå¦‚ BLEU æˆ– ROUGEï¼‰å’Œå®šæ€§æŒ‡æ ‡ï¼ˆå¦‚ å›ç­”çš„ç›¸å…³æ€§ã€è¯­ä¹‰ä¸€è‡´æ€§ã€è¯­å¢ƒå¥‘åˆåº¦ã€æ‰å®æ€§åŠå¿ å®åº¦ï¼‰ã€‚é‰´äºè¿™äº›å› ç´ çš„å¤æ‚æ€§ï¼Œè¿˜éœ€è¦ä¾èµ–äººç±»çš„ä¸»è§‚è¯„ä»·æ¥è¾…åŠ©å®Œæˆæ•´ä¸ªè¯„ä¼°è¿‡ç¨‹ã€‚</li>
</ul>
<p><strong>RAG çš„è¯„ä¼°ä¸‰è§’ï¼š</strong><br>ä¸Šä¸‹æ–‡å…³è”ï¼šé’ˆå¯¹ Query è¿›è¡Œæ£€ç´¢ï¼Œè¯„ä¼°æ£€ç´¢åç»“æœçš„å‡†ç¡®æ€§<br>å“åº”å¿ å®åº¦ï¼šLLM åŸºäº æ£€ç´¢å‡ºçš„ Context è¿›è¡Œå›ç­”ï¼Œå›ç­”çš„å†…å®¹ä¸ Context çš„ç›¸å…³æ€§<br>å›ç­”å…³è”æ€§ï¼šæœ€ç»ˆå›ç­”çš„å†…å®¹ ä¸ Query çš„ç›¸å…³æ€§ã€‚<br><img src="https://raw.githubusercontent.com/BaihlUp/Figurebed/master/2025/20250528163807.png" alt="image.png"></p>
<h2 id="13-2-æ£€ç´¢å™¨çš„è¯„ä¼°æŒ‡æ ‡"><a href="#13-2-æ£€ç´¢å™¨çš„è¯„ä¼°æŒ‡æ ‡" class="headerlink" title="13.2 æ£€ç´¢å™¨çš„è¯„ä¼°æŒ‡æ ‡"></a>13.2 æ£€ç´¢å™¨çš„è¯„ä¼°æŒ‡æ ‡</h2><h3 id="13-2-1-ç²¾ç¡®ç‡-Precision"><a href="#13-2-1-ç²¾ç¡®ç‡-Precision" class="headerlink" title="13.2.1 ç²¾ç¡®ç‡ Precision"></a>13.2.1 ç²¾ç¡®ç‡ Precision</h3><p>ç²¾ç¡®ç‡ è¡¡é‡ æ£€ç´¢åˆ°çš„æ–‡æœ¬å—ä¸­æœ‰å¤šå°‘ä¸æŸ¥è¯¢ç›¸å…³ï¼Œå³æ£€ç´¢åˆ°çš„ç›¸å…³æ–‡æœ¬å—æ•°é‡å æ€»æ£€ç´¢æ–‡æœ¬å—æ•°é‡çš„æ¯”ä¾‹ã€‚ç²¾ç¡®åº¦æ—¨åœ¨å›ç­”ï¼šâ€œåœ¨æ‰€æœ‰è¢«æ£€ç´¢å‡ºçš„æ–‡æœ¬å—ä¸­ï¼Œæœ‰å¤šå°‘æ˜¯çœŸæ­£ç›¸å…³çš„ï¼Ÿâ€<br><img src="https://raw.githubusercontent.com/BaihlUp/Figurebed/master/2025/20250528164538.png" alt="image.png"></p>
<p>é«˜ç²¾ç¡®ç‡ä¹Ÿæ„å‘³ç€æ£€ç´¢å†…å®¹æ›´åŠ ç²¾å‡†ï¼Œæœ‰æ•ˆå‡å°‘äº†ä¸å¿…è¦çš„ä¿¡æ¯å±•ç¤ºã€‚è¿™ä¸€æŒ‡æ ‡åœ¨é¿ å…æ— å…³ä¿¡æ¯çš„å‘ˆç°æ–¹é¢å°¤ä¸ºé‡è¦ï¼Œå°¤å…¶åœ¨åŒ»ç–—ã€æ³•å¾‹ç­‰ä¸“ä¸šé¢†åŸŸï¼Œé«˜ç²¾ç¡®ç‡èƒ½å¤Ÿæœ‰æ•ˆé˜²æ­¢ è¯¯å¯¼æ€§ä¿¡æ¯çš„ä¼ æ’­ã€‚</p>
<h3 id="13-2-2-å¬å›ç‡-Recall"><a href="#13-2-2-å¬å›ç‡-Recall" class="headerlink" title="13.2.2 å¬å›ç‡ Recall"></a>13.2.2 å¬å›ç‡ Recall</h3><p>å¬å›ç‡ è¡¡é‡ç³»ç»Ÿæ£€ç´¢åˆ°çš„ç›¸å…³æ–‡æœ¬å—çš„å…¨é¢æ€§ï¼Œå³æ£€ç´¢åˆ°çš„ç›¸å…³æ–‡æœ¬å—æ•°é‡å æ•°æ®åº“ä¸­æ‰€æœ‰ç›¸å…³æ–‡æœ¬å—æ•°é‡çš„æ¯”ä¾‹ã€‚å¬å›ç‡æ—¨åœ¨å›ç­”ï¼šâ€œåœ¨æ‰€æœ‰ç›¸å…³çš„æ–‡æœ¬å—ä¸­ï¼Œç³»ç»ŸæˆåŠŸæ£€ç´¢å‡ºäº†å¤šå°‘ï¼Ÿâ€</p>
<p><img src="https://raw.githubusercontent.com/BaihlUp/Figurebed/master/2025/20250528164800.png" alt="image.png"><br>é«˜å¬å›ç‡å¯¹é¿å…é—æ¼å…³é”®ä¿¡æ¯è‡³å…³é‡è¦ã€‚è‹¥å¬å›ç‡ä½ï¼Œæ¨¡å‹å¯èƒ½ç”±äºç¼ºä¹å…³é”®ä¿¡æ¯è€Œ ç”Ÿæˆä¸å®Œæ•´çš„å›ç­”æˆ–äº§ç”Ÿé”™è¯¯ã€‚ä¾‹å¦‚ï¼Œåœ¨æ³•å¾‹æ–‡æ¡£æ£€ç´¢ä¸­ï¼Œé—æ¼ç›¸å…³ä¿¡æ¯å¯èƒ½ä¼šå½±å“åˆ°æ¡ˆ ä¾‹åˆ†æçš„å®Œæ•´æ€§ã€‚</p>
<h3 id="13-2-3-F1-åˆ†æ•°"><a href="#13-2-3-F1-åˆ†æ•°" class="headerlink" title="13.2.3 F1 åˆ†æ•°"></a>13.2.3 F1 åˆ†æ•°</h3><p>åœ¨ RAG ç³»ç»Ÿä¸­ï¼Œæé«˜ç²¾ç¡®ç‡å¾€å¾€ä¼šå¯¼è‡´å¬å›ç‡çš„é™ä½ï¼Œåä¹‹äº¦ç„¶ã€‚å› æ­¤ï¼Œä¸ºäº†è·å¾— æœ€ä½³çš„æ£€ç´¢æ€§èƒ½ï¼Œé€šå¸¸éœ€è¦åœ¨ç²¾ç¡®ç‡å’Œå¬å›ç‡ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ã€‚è¿™ä¸€å¹³è¡¡é€šå¸¸ä½¿ç”¨ F1 åˆ†æ•° æ¥é‡åŒ–ï¼Œå®ƒæ˜¯ç²¾ç¡®ç‡ä¸å¬å›ç‡çš„è°ƒå’Œå¹³å‡æ•°ï¼Œç”¨äºåœ¨ä¸¤è€…ä¹‹é—´æ‰¾åˆ°é€‚åˆå…·ä½“åº”ç”¨éœ€æ±‚çš„æœ€ ä¼˜ç‚¹ã€‚<br><img src="https://raw.githubusercontent.com/BaihlUp/Figurebed/master/2025/20250528164942.png" alt="image.png"></p>
<h3 id="13-2-4-å¹³å‡å€’æ•°æ’å"><a href="#13-2-4-å¹³å‡å€’æ•°æ’å" class="headerlink" title="13.2.4 å¹³å‡å€’æ•°æ’å"></a>13.2.4 å¹³å‡å€’æ•°æ’å</h3><p>å¹³å‡å€’æ•°æ’åï¼ˆMRRï¼‰æ˜¯ä¸€é¡¹è¯„ä¼°æ£€ç´¢ç³»ç»Ÿæ•ˆç‡çš„æŒ‡æ ‡ï¼Œå®ƒç‰¹åˆ«å…³æ³¨ç¬¬ä¸€ä¸ªç›¸å…³æ–‡ æœ¬å—çš„æ’åã€‚MRR å¯ä»¥å¸®åŠ©æˆ‘ä»¬è¡¡é‡ RAG ç³»ç»Ÿèƒ½å¦å¿«é€Ÿè¿”å›ç¬¬ä¸€ä¸ªç›¸å…³æ–‡æœ¬å—ï¼Œå®ƒçš„ å€¼å¯¹ç”¨æˆ·ä½“éªŒæœ‰ç›´æ¥å½±å“ã€‚MRR å€¼è¶Šé«˜ï¼Œè¡¨ç¤ºç³»ç»Ÿèƒ½è¶Šå¿«åœ°æ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆéœ€æ±‚çš„ç­”æ¡ˆã€‚<br><img src="https://raw.githubusercontent.com/BaihlUp/Figurebed/master/2025/20250528165127.png" alt="image.png"><br>Q è¡¨ç¤ºæ€»æŸ¥è¯¢æ•°ã€‚rankq è¡¨ç¤ºæŸ¥è¯¢ q çš„ç¬¬ä¸€ä¸ªç›¸å…³æ–‡æœ¬å—çš„æ’åã€‚è¯¥å…¬å¼éœ€è¦ å–ç¬¬ä¸€ä¸ªç›¸å…³æ–‡æœ¬å—æ’åçš„å€’æ•°ï¼Œè¿™æ„å‘³ç€ MRR åªå…³æ³¨æ¯ä¸ªæŸ¥è¯¢è¿”å›çš„ç¬¬ä¸€ä¸ªç›¸å…³æ–‡æœ¬ å—çš„ä½ç½®ã€‚æ ¹æ®è¿™ç§è®¡ç®—æ–¹å¼ï¼Œæ–‡æœ¬å—æ’åè¶Šé å‰ï¼Œrankq çš„å€’æ•°è¶Šå¤§ï¼ŒMRR ä¹Ÿä¼šè¶Šå¤§ã€‚</p>
<h3 id="13-2-5-å¹³å‡ç²¾ç¡®ç‡"><a href="#13-2-5-å¹³å‡ç²¾ç¡®ç‡" class="headerlink" title="13.2.5 å¹³å‡ç²¾ç¡®ç‡"></a>13.2.5 å¹³å‡ç²¾ç¡®ç‡</h3><p>å¹³å‡ç²¾ç¡®ç‡ï¼ˆMAPï¼‰æ˜¯ä¸€é¡¹è·¨å¤šä¸ªæŸ¥è¯¢è¯„ä¼°çš„ç²¾ç¡®ç‡è¡¡é‡æŒ‡æ ‡ï¼Œå®ƒä¸ä»…è€ƒè™‘äº†æ£€ç´¢ ç»“æœçš„ç²¾ç¡®ç‡ï¼Œè¿˜å¼ºè°ƒäº†æ–‡æ¡£æ’åºçš„é‡è¦æ€§ã€‚MAP é€šè¿‡è®¡ç®—æ¯ä¸ªæŸ¥è¯¢åœ¨ä¸åŒæ’åçš„ç²¾ç¡® ç‡æ¥è¯„ä¼°æ£€ç´¢æ•ˆæœï¼Œç¡®ä¿é‡è¦çš„ç›¸å…³æ–‡æ¡£è¾ƒä¸ºé å‰ï¼Œä»è€Œä¼˜åŒ–ç”¨æˆ·çš„æœç´¢ä½“éªŒã€‚<br><img src="https://raw.githubusercontent.com/BaihlUp/Figurebed/master/2025/20250528165242.png" alt="image.png"><br>å…¶ä¸­ï¼ŒQ è¡¨ç¤ºæ€»æŸ¥è¯¢æ•°ã€‚è€Œ Average Precision æ˜¯é’ˆå¯¹æ¯ä¸ªæŸ¥è¯¢è®¡ç®—çš„å¹³å‡ç²¾ç¡®åº¦ï¼Œ è€ƒè™‘äº†ç›¸å…³æ–‡æ¡£çš„é¡ºåºã€‚MAP åœ¨æœç´¢å¼•æ“ç­‰æ³¨é‡æ’åè´¨é‡çš„ç³»ç»Ÿä¸­å¾ˆå®ç”¨ï¼Œå¸¸ç”¨äºç”µå•†å¹³å°çš„äº§å“æ¨èç³»ç»Ÿ ç­‰åœºæ™¯ã€‚</p>
<h3 id="13-2-6-P-K"><a href="#13-2-6-P-K" class="headerlink" title="13.2.6 P@K"></a>13.2.6 P@K</h3><p>P@K è¡¡é‡çš„æ˜¯å‰ K ä¸ªæ£€ç´¢ç»“æœçš„ç²¾ç¡®ç‡ï¼Œç¡®ä¿åœ¨å±•ç¤ºçš„å‰å‡ é¡¹ç»“æœä¸­å°½å¯èƒ½å¤šåœ°åŒ…å«ç›¸å…³ä¿¡æ¯ã€‚<br><img src="https://raw.githubusercontent.com/BaihlUp/Figurebed/master/2025/20250528165340.png" alt="image.png"><br>å…¶ä¸­ï¼Œåˆ†å­è¡¨ç¤ºå‰ K ä¸ªç»“æœä¸­ç›¸å…³æ–‡æ¡£çš„æ•°é‡ï¼Œåˆ†æ¯ä¸­çš„ K æ˜¯å›ºå®šçš„è¿”å›æ•°é‡ã€‚P@K åœ¨ç”¨æˆ·ç‰¹åˆ«å…³æ³¨å‰å‡ é¡¹ç»“æœçš„åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œåœ¨æ–°é—»æœç´¢ç³»ç»Ÿä¸­ï¼Œ P@K å¯ä»¥ç¡®ä¿ç”¨æˆ·åœ¨è¿›è¡Œæœç´¢æ—¶ï¼ŒæŸ¥åˆ°çš„å‰å‡ æ¡æ–°é—»ä¸æŸ¥è¯¢ä¸»é¢˜é«˜åº¦ç›¸å…³ï¼Œä»è€Œæå‡é˜… è¯»æ•ˆç‡ã€‚</p>
<h3 id="13-2-7-æ€»ç»“"><a href="#13-2-7-æ€»ç»“" class="headerlink" title="13.2.7 æ€»ç»“"></a>13.2.7 æ€»ç»“</h3><table>
<thead>
<tr>
<th>æŒ‡æ ‡</th>
<th>è¡¡é‡å†…å®¹</th>
<th>è®¡ç®—æ–¹æ³•</th>
<th>å›ç­”çš„é—®é¢˜</th>
</tr>
</thead>
<tbody><tr>
<td>ç²¾ç¡®ç‡</td>
<td>æ£€ç´¢ç»“æœçš„å‡†ç¡®æ€§</td>
<td>ç›¸å…³æ–‡æ¡£å—æ•° &#x2F; æ£€ç´¢åˆ°çš„æ€»æ–‡æ¡£å—æ•°</td>
<td>åœ¨ç³»ç»Ÿæ£€ç´¢çš„æ‰€æœ‰æ–‡æ¡£å—ä¸­ï¼Œæœ‰å¤šå°‘æ˜¯çœŸæ­£ç›¸å…³çš„ï¼Ÿ</td>
</tr>
<tr>
<td>å¬å›ç‡</td>
<td>æ£€ç´¢ç»“æœçš„å®Œæ•´æ€§</td>
<td>æ£€ç´¢åˆ°çš„ç›¸å…³æ–‡æ¡£å—æ•° &#x2F; æ•°æ®åº“ä¸­æ‰€æœ‰ç›¸å…³æ–‡æ¡£å—æ•°</td>
<td>åœ¨æ•°æ®åº“ä¸­æ‰€æœ‰çš„ç›¸å…³æ–‡æ¡£å—ä¸­ï¼Œç³»ç»ŸæˆåŠŸæ£€ç´¢åˆ°äº†å¤šå°‘ï¼Ÿ</td>
</tr>
<tr>
<td>F1åˆ†æ•°</td>
<td>ç²¾ç¡®ç‡ä¸å¬å›ç‡çš„å¹³è¡¡</td>
<td><code>2 * (ç²¾ç¡®ç‡ * å¬å›ç‡) / (ç²¾ç¡®ç‡ + å¬å›ç‡)</code></td>
<td>ç³»ç»Ÿçš„ç²¾ç¡®æ€§å’Œå®Œæ•´æ€§å¦‚ä½•å‡è¡¡ï¼Ÿ</td>
</tr>
<tr>
<td>å¹³å‡å€’æ•°æ’å</td>
<td>ç³»ç»Ÿå¿«é€Ÿæ£€ç´¢åˆ°ç¬¬ä¸€ä¸ªç›¸å…³æ–‡æ¡£å—çš„èƒ½åŠ›</td>
<td>å¯¹å¤šä¸ªæŸ¥è¯¢çš„å€’æ•°æ’åå–å¹³å‡å€¼</td>
<td>å¹³å‡è€Œè¨€ï¼Œç³»ç»Ÿå¤šå¿«èƒ½æ£€ç´¢åˆ°ç¬¬ä¸€ä¸ªç›¸å…³æ–‡æ¡£å—ï¼Ÿ</td>
</tr>
<tr>
<td>å¹³å‡ç²¾ç¡®ç‡</td>
<td>ç²¾ç¡®æ€§å’Œç›¸å…³æ–‡æ¡£å—æ’åºçš„ç»¼åˆè¯„ä¼°</td>
<td>å¯¹å¤šä¸ªæŸ¥è¯¢çš„å¹³å‡ç²¾ç¡®ç‡å–å¹³å‡å€¼</td>
<td>å¹³å‡è€Œè¨€ï¼Œç³»ç»Ÿæ£€ç´¢çš„æ’åé å‰çš„æ–‡æ¡£å—æœ‰å¤šç²¾ç¡®ï¼Ÿ</td>
</tr>
<tr>
<td>P@K</td>
<td>å‰Kä¸ªæ£€ç´¢ç»“æœçš„ç²¾ç¡®åº¦</td>
<td>å‰Kä¸ªç»“æœä¸­çš„ç›¸å…³æ–‡æ¡£å—æ•°é‡ &#x2F; K</td>
<td>åœ¨å‰Kä¸ªæ£€ç´¢ç»“æœä¸­ï¼Œæœ‰å¤šå°‘æ˜¯ç›¸å…³çš„ï¼Ÿ</td>
</tr>
</tbody></table>
<h2 id="13-3-ç”Ÿæˆå™¨çš„è¯„ä¼°æŒ‡æ ‡"><a href="#13-3-ç”Ÿæˆå™¨çš„è¯„ä¼°æŒ‡æ ‡" class="headerlink" title="13.3 ç”Ÿæˆå™¨çš„è¯„ä¼°æŒ‡æ ‡"></a>13.3 ç”Ÿæˆå™¨çš„è¯„ä¼°æŒ‡æ ‡</h2><p>å“åº”è¯„ä¼°ï¼šè¯­ä¹‰ç›¸ä¼¼åº¦ã€å¿ å®åº¦ç­‰</p>
<h3 id="13-3-1-åŸºäºn-gramåŒ¹é…ç¨‹åº¦çš„æŒ‡æ ‡ï¼šBLEU"><a href="#13-3-1-åŸºäºn-gramåŒ¹é…ç¨‹åº¦çš„æŒ‡æ ‡ï¼šBLEU" class="headerlink" title="13.3.1 åŸºäºn-gramåŒ¹é…ç¨‹åº¦çš„æŒ‡æ ‡ï¼šBLEU"></a>13.3.1 åŸºäºn-gramåŒ¹é…ç¨‹åº¦çš„æŒ‡æ ‡ï¼šBLEU</h3><p>BLEUï¼ˆBilingual Evaluation Understudyï¼Œå¯è¯‘ä¸ºâ€œåŒè¯­è¯„ä¼°æ›¿ä»£å·¥å…·â€ï¼‰ç”¨äºè¯„ ä¼°ç”Ÿæˆçš„å›ç­”ä¸å‚è€ƒç­”æ¡ˆä¹‹é—´ n-gram çš„é‡å æƒ…å†µï¼Œå¼ºè°ƒç²¾ç¡®ç‡ã€‚å®ƒé€šè¿‡ n-gramï¼ˆå³è¿ ç»­çš„ n ä¸ª token æ„æˆçš„åºåˆ—ï¼Œn å¯ä»¥ä¸º 1ã€2ã€3ã€4 ç­‰ï¼‰çš„ç²¾ç¡®åŒ¹é…æ¥è®¡ç®—åˆ†æ•°ã€‚<br><img src="https://raw.githubusercontent.com/BaihlUp/Figurebed/master/2025/20250528165906.png" alt="image.png"><br>å…¶ä¸­ï¼ŒBP æ˜¯é•¿åº¦æƒ©ç½šï¼ˆBrevity Penaltyï¼‰ï¼Œç”¨äºé˜²æ­¢ç”Ÿæˆçš„å›ç­”è¿‡çŸ­ã€‚è‹¥ç”Ÿæˆçš„å› ç­”æ¯”å‚è€ƒç­”æ¡ˆçŸ­ï¼Œåˆ™ BP å°äº 1ï¼›å¦åˆ™ï¼ŒBP ç­‰äº 1ã€‚P n æ˜¯ n -gram çš„ç²¾ç¡®ç‡ã€‚w n æ˜¯æ¯ ä¸ª n-gram çš„æƒé‡ï¼Œé€šå¸¸ w 1ã€w 2ã€w 3 å’Œ w 4 çš„å€¼ç›¸ç­‰ã€‚<br>ä¾‹å¦‚ï¼Œå‡è®¾å‚è€ƒç­”æ¡ˆä¸ºâ€œthe cat is on matâ€ï¼Œè€Œç”Ÿæˆçš„å›ç­”ä¸ºâ€œthe cat on matâ€ã€‚ å¯¹ äºBLEU-1ï¼ˆ1-gram ç²¾ ç¡® åº¦ ï¼‰ï¼Œ1-gramï¼ˆ å• è¯ ï¼‰ åŒ¹ é… é¡¹ åŒ… æ‹¬ â€œtheâ€â€œcatâ€â€œonâ€â€œmatâ€4 ä¸ªã€‚ç”Ÿæˆçš„å›ç­”ä¸­æœ‰ 4 ä¸ª 1-gramã€‚å› æ­¤ï¼Œ1-gram ç²¾ç¡®ç‡ 1ã€‚</p>
<h3 id="13-3-2-åŸºäºn-gramåŒ¹é…ç¨‹åº¦çš„æŒ‡æ ‡ï¼šROUGE"><a href="#13-3-2-åŸºäºn-gramåŒ¹é…ç¨‹åº¦çš„æŒ‡æ ‡ï¼šROUGE" class="headerlink" title="13.3.2 åŸºäºn-gramåŒ¹é…ç¨‹åº¦çš„æŒ‡æ ‡ï¼šROUGE"></a>13.3.2 åŸºäºn-gramåŒ¹é…ç¨‹åº¦çš„æŒ‡æ ‡ï¼šROUGE</h3><p>ROUGEï¼ˆRecall-Oriented Understudy for Gisting Evaluationï¼Œä¸€èˆ¬è¯‘ä¸ºâ€œé¢ å‘å¬å›çš„æ‘˜è¦è¯„ä¼°æ›¿ä»£å·¥å…·â€ï¼‰ç”¨äºè®¡ç®—ç”Ÿæˆçš„å›ç­”ä¸å‚è€ƒç­”æ¡ˆä¹‹é—´ n-g ram çš„é‡å é‡ï¼Œ å¹¶åŒæ—¶è€ƒè™‘äº†ç²¾ç¡®ç‡å’Œå¬å›ç‡ï¼Œæä¾›äº†è¾ƒä¸ºå¹³è¡¡çš„è¯„ä»·æ–¹å¼ã€‚<br><img src="https://raw.githubusercontent.com/BaihlUp/Figurebed/master/2025/20250528170036.png" alt="image.png"><br>ç»§ç»­ä½¿ç”¨å‰é¢çš„ç¤ºä¾‹ï¼Œå‡è®¾å‚è€ƒç­”æ¡ˆä¸ºâ€œthe cat is on matâ€ ï¼Œè€Œç”Ÿæˆå›ç­”ä¸ºâ€œthe cat on matâ€ã€‚ å¯¹äº ROUGE-1ï¼ˆå³ 1-gramï¼‰ï¼ŒåŒ¹é…é¡¹åŒ…æ‹¬â€œtheâ€â€œcatâ€â€œonâ€å’Œâ€œmatâ€4 ä¸ªã€‚å‚è€ƒç­”æ¡ˆä¸­æœ‰ 5 ä¸ª 1-gramã€‚å› æ­¤ï¼ŒROUGE-1 ä¸º 0.8ã€‚ å¯¹äº ROUGE-2ï¼ˆå³ 2-gramï¼‰ï¼ŒåŒ¹é…é¡¹åŒ…æ‹¬â€œthe catâ€å’Œâ€œon matâ€2 ä¸ªã€‚å‚è€ƒ ç­”æ¡ˆä¸­æœ‰ 4 ä¸ª 2-gramã€‚å› æ­¤ï¼ŒROUGE-2 ä¸º 0.5ã€‚</p>
<h3 id="13-3-3-åŸºäºn-gramåŒ¹é…ç¨‹åº¦çš„æŒ‡æ ‡ï¼šMETEOR"><a href="#13-3-3-åŸºäºn-gramåŒ¹é…ç¨‹åº¦çš„æŒ‡æ ‡ï¼šMETEOR" class="headerlink" title="13.3.3 åŸºäºn-gramåŒ¹é…ç¨‹åº¦çš„æŒ‡æ ‡ï¼šMETEOR"></a>13.3.3 åŸºäºn-gramåŒ¹é…ç¨‹åº¦çš„æŒ‡æ ‡ï¼šMETEOR</h3><p>METEORï¼ˆMetric for Evaluation of Translation with Explicit Orderingï¼Œä¸€èˆ¬ è¯‘ä¸ºâ€œå…·æœ‰æ˜¾å¼æ’åºçš„ç¿»è¯‘è¯„ä¼°æŒ‡æ ‡â€ï¼‰é€šè¿‡è€ƒé‡åŒä¹‰è¯ã€è¯å¹²å’Œè¯åºç­‰å› ç´ ï¼Œæä¾›äº†å¯¹ ç”Ÿæˆçš„å›ç­”ä¸å‚è€ƒç­”æ¡ˆä¹‹é—´ç›¸ä¼¼åº¦æ›´ç»†è‡´çš„è¯„ä¼°ã€‚å®ƒä¸ä»…è®¡ç®—ç²¾ç¡®ç‡å’Œå¬å›ç‡çš„è°ƒå’Œå¹³å‡ å€¼ï¼ˆF meanï¼‰ï¼Œè¿˜ç»“åˆäº†ä¸€ä¸ªæƒ©ç½šæœºåˆ¶æ¥å¤„ç†è¯åºé”™è¯¯å’Œå…¶ä»–ä¸åŒ¹é…çš„æƒ…å†µã€‚METEOR èƒ½ å¤Ÿæ¯” BLEU å’Œ ROUGE æ›´å¥½åœ°æ•æ‰è¯­ä¹‰ç‰¹æ€§ã€‚<br><img src="https://raw.githubusercontent.com/BaihlUp/Figurebed/master/2025/20250528170206.png" alt="image.png"><br>å…¶ä¸­ï¼ŒF mean æ˜¯ç²¾ç¡®åº¦å’Œå¬å›ç‡çš„è°ƒå’Œå¹³å‡å€¼ï¼Œç”¨äºç»¼åˆè¡¡é‡ç”Ÿæˆçš„å›ç­”ä¸å‚è€ƒç­”æ¡ˆ çš„åŒ¹é…ç¨‹åº¦ã€‚P penalty æ˜¯ä¸€ä¸ªæƒ©ç½šé¡¹ï¼Œç”¨äºæƒ©ç½šè¯åºé”™è¯¯åŠå…¶ä»–ç±»å‹çš„é”™è¯¯ã€‚</p>
<p>å¯¹äºç²¾ç¡®ç‡ï¼Œç”Ÿæˆçš„å›ç­”åŒ…å« 4 ä¸ªå•è¯ï¼Œå…¶ä¸­åŒ…å« 4 ä¸ªåŒ¹é…é¡¹ã€‚å› æ­¤ï¼Œç²¾ç¡®åº¦ä¸º 1ã€‚ å¯¹äºå¬å›ç‡ï¼Œå‚è€ƒç­”æ¡ˆåŒ…å« 5 ä¸ªå•è¯ï¼Œå…¶ä¸­åŒ…å« 4 ä¸ªåŒ¹é…é¡¹ã€‚å› æ­¤ï¼Œå¬å›ç‡ä¸º 0.8ã€‚ å¯¹äºè°ƒå’Œå¹³å‡å€¼ï¼ŒF mean&#x3D; 2Ã—1Ã—0.8 1+0.8 &#x3D; 1.6 1.8 â‰ˆ 0.89ã€‚ å¯¹äºæƒ©ç½šé¡¹ï¼Œç”±äºç”Ÿæˆçš„å›ç­”ä¸­ç¼ºå°‘äº†â€œisâ€è¿™ä¸ªå•è¯ï¼ŒMETEOR ä¼šåº”ç”¨ä¸€ä¸ªæƒ©ç½š é¡¹ P penaltyã€‚è¿™ä¸ªæƒ©ç½šé¡¹çš„å…·ä½“æ•°å€¼å–å†³äºå…·ä½“çš„å®ç°ç»†èŠ‚ï¼Œä½†åœ¨æœ¬ä¾‹ä¸­æˆ‘ä»¬å¯ä»¥å‡å®šå®ƒä¸º 0.1ã€‚ æœ€ç»ˆï¼ŒMETEOR ä¸º 0.801ã€‚</p>
<p><img src="https://raw.githubusercontent.com/BaihlUp/Figurebed/master/2025/20250528170335.png" alt="image.png"></p>
<h3 id="13-3-4-åŸºäºè¯­ä¹‰ç›¸ä¼¼æ€§çš„æŒ‡æ ‡"><a href="#13-3-4-åŸºäºè¯­ä¹‰ç›¸ä¼¼æ€§çš„æŒ‡æ ‡" class="headerlink" title="13.3.4 åŸºäºè¯­ä¹‰ç›¸ä¼¼æ€§çš„æŒ‡æ ‡"></a>13.3.4 åŸºäºè¯­ä¹‰ç›¸ä¼¼æ€§çš„æŒ‡æ ‡</h3><p><img src="https://raw.githubusercontent.com/BaihlUp/Figurebed/master/2025/20250528170413.png" alt="image.png"></p>
<p>å°†ç”Ÿæˆçš„å›ç­”å’Œå‚è€ƒç­”æ¡ˆè½¬åŒ–ä¸ºå‘é‡ï¼Œä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ç­‰æ–¹æ³•æ¥è®¡ç®—ç”Ÿæˆçš„å†…å®¹ä¸å‚è€ƒç­”æ¡ˆä¹‹é—´çš„è¯­ä¹‰ç›¸ä¼¼æ€§ã€‚</p>
<h3 id="13-3-5-åŸºäºå¿ å®åº¦æˆ–æ‰å®æ€§çš„æŒ‡æ ‡"><a href="#13-3-5-åŸºäºå¿ å®åº¦æˆ–æ‰å®æ€§çš„æŒ‡æ ‡" class="headerlink" title="13.3.5 åŸºäºå¿ å®åº¦æˆ–æ‰å®æ€§çš„æŒ‡æ ‡"></a>13.3.5 åŸºäºå¿ å®åº¦æˆ–æ‰å®æ€§çš„æŒ‡æ ‡</h3><p><strong>æ–‡æ¡£ç²¾ç¡®ç‡å’Œé¡µé¢ç²¾ç¡®ç‡</strong>ï¼šè¿™äº›æŒ‡æ ‡ç”¨äºè¡¡é‡å¤§æ¨¡å‹å¼•ç”¨çš„æ–‡æ¡£å’Œå…·ä½“é¡µé¢çš„å‡† ç¡®æ€§ã€‚è¿™è¦æ±‚å¤§æ¨¡å‹åœ¨ç”Ÿæˆå›ç­”æ—¶ï¼Œå¿…é¡»æ¸…æ™°åœ°æ ‡æ³¨å…¶ä¿¡æ¯æ¥æºï¼Œä»¥å‡å°‘è™šæ„ä¿¡æ¯çš„å‘ç”Ÿã€‚<br><strong>å¹»è§‰æ£€æµ‹ &#x2F; ä¸€è‡´æ€§æ£€æŸ¥</strong>ï¼šè¿™äº›æŒ‡æ ‡æ—¨åœ¨åˆ¤æ–­å¤§æ¨¡å‹ç”Ÿæˆçš„å›ç­”æ˜¯å¦åŸºäºæä¾›çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œæˆ–åœ¨ä¸åŒæŸ¥è¯¢ä¸­æä¾›çš„äº‹å®ä¿¡æ¯æ˜¯å¦ä¸€ è‡´ã€‚åœ¨è¯„ä¼°è¿‡ç¨‹ä¸­ï¼Œå°†é‡‡ç”¨äºŒè¿›åˆ¶è¯„ä¼°ï¼ˆ0&#x2F;1ï¼‰ï¼Œå¦‚æœç”Ÿæˆçš„å›ç­”æ— æ³•ä»ç»™å®šçš„æ–‡æ¡£æ¨å¯¼å‡ºï¼Œå³ä¾¿å›ç­”æœ¬èº«æ­£ç¡®ï¼Œä¹Ÿè§†ä¸ºå¹»è§‰ã€‚<br><strong>å¤§æ¨¡å‹è¯„åˆ†é‡è¡¨</strong>ï¼šåˆ©ç”¨æ›´å¼ºå¤§çš„å¤§æ¨¡å‹å¯¹ç”Ÿæˆçš„å›ç­”è¿›è¡Œè¯„åˆ†ï¼Œä¾‹å¦‚é‡‡ç”¨ 0 åˆ° 5 åˆ†çš„è¯„åˆ†æ ‡å‡†ã€‚å…·ä½“çš„è¯„åˆ†æ ‡å‡†å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚è¿›è¡Œå®šåˆ¶ï¼Œä»¥ä¾¿æ›´çµæ´»åœ°é€‚åº”ä¸åŒçš„åº”ç”¨åœºæ™¯ã€‚<br><strong>äººå·¥è¯„ä¼°</strong>ï¼šç”±é¢†åŸŸä¸“å®¶æ‰‹åŠ¨æ£€æŸ¥å¤§æ¨¡å‹ç”Ÿæˆçš„å›ç­”æ˜¯å¦å‡†ç¡®ï¼Œå¹¶éªŒè¯å…¶æ˜¯å¦åˆç†å¼•ç”¨äº†æ£€ç´¢åˆ°çš„æ–‡æ¡£ã€‚</p>
<h2 id="13-4-RAG-è¯„ä¼°æ¡†æ¶-å·¥å…·"><a href="#13-4-RAG-è¯„ä¼°æ¡†æ¶-å·¥å…·" class="headerlink" title="13.4 RAG è¯„ä¼°æ¡†æ¶&#x2F;å·¥å…·"></a>13.4 RAG è¯„ä¼°æ¡†æ¶&#x2F;å·¥å…·</h2><p>å·¥å…·ä½¿ç”¨ä»£ç ç¤ºä¾‹ï¼š<a target="_blank" rel="noopener" href="https://github.com/huangjia2019/rag-in-action/tree/master/09-%E7%B3%BB%E7%BB%9F%E8%AF%84%E4%BC%B0-Evaluation">https://github.com/huangjia2019/rag-in-action/tree/master/09-ç³»ç»Ÿè¯„ä¼°-Evaluation</a></p>
<h3 id="13-4-1-RAGAS"><a href="#13-4-1-RAGAS" class="headerlink" title="13.4.1 RAGAS"></a>13.4.1 RAGAS</h3><p>ğŸ¯ <strong>å®¢è§‚æŒ‡æ ‡</strong>ï¼šä½¿ç”¨åŸºäºLLMå’Œä¼ ç»Ÿæ–¹å¼çš„è¯„ä¼°æŒ‡æ ‡ï¼Œç²¾ç¡®è¯„ä¼°ä½ çš„LLMåº”ç”¨æ•ˆæœã€‚<br>ğŸ§ª <strong>æµ‹è¯•æ•°æ®ç”Ÿæˆ</strong>ï¼šè‡ªåŠ¨åˆ›å»ºè¦†ç›–å¤šç§åœºæ™¯çš„å…¨é¢æµ‹è¯•æ•°æ®é›†ã€‚<br>ğŸ”— <strong>æ— ç¼é›†æˆ</strong>ï¼šå¯ä¸LangChainç­‰ä¸»æµLLMæ¡†æ¶åŠä¸»è¦å¯è§‚æµ‹æ€§å·¥å…·æ— ç¼åä½œã€‚<br>ğŸ“Š <strong>æ„å»ºåé¦ˆé—­ç¯</strong>ï¼šåˆ©ç”¨ç”Ÿäº§æ•°æ®æŒç»­ä¼˜åŒ–ä½ çš„LLMåº”ç”¨ã€‚</p>
<p>é¡¹ç›®åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/explodinggradients/ragas">https://github.com/explodinggradients/ragas</a></p>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os  </span><br><span class="line"><span class="keyword">from</span> dotenv <span class="keyword">import</span> load_dotenv  </span><br><span class="line">load_dotenv()  </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np  </span><br><span class="line"><span class="keyword">from</span> datasets <span class="keyword">import</span> Dataset  </span><br><span class="line"><span class="keyword">from</span> ragas.metrics <span class="keyword">import</span> Faithfulness, AnswerRelevancy  </span><br><span class="line"><span class="keyword">from</span> ragas.llms <span class="keyword">import</span> LangchainLLMWrapper  </span><br><span class="line"><span class="keyword">from</span> ragas.embeddings <span class="keyword">import</span> LangchainEmbeddingsWrapper  </span><br><span class="line"><span class="keyword">from</span> langchain_openai <span class="keyword">import</span> OpenAIEmbeddings, ChatOpenAI  </span><br><span class="line"><span class="keyword">from</span> langchain_huggingface <span class="keyword">import</span> HuggingFaceEmbeddings  </span><br><span class="line"><span class="keyword">from</span> ragas <span class="keyword">import</span> evaluate  </span><br><span class="line"><span class="keyword">from</span> langchain_deepseek <span class="keyword">import</span> ChatDeepSeek  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># å‡†å¤‡è¯„ä¼°ç”¨çš„LLMï¼ˆä½¿ç”¨GPT-3.5ï¼‰  </span></span><br><span class="line">llm_deepseek = ChatDeepSeek(model=<span class="string">&quot;Pro/deepseek-ai/DeepSeek-V3&quot;</span>, api_key=os.getenv(<span class="string">&quot;LLM_API_KEY&quot;</span>), api_base=os.getenv(<span class="string">&quot;LLM_BASE_URL&quot;</span>))  </span><br><span class="line">llm = LangchainLLMWrapper(llm_deepseek)  </span><br><span class="line"><span class="comment"># llm = LangchainLLMWrapper(ChatOpenAI(model_name=&quot;gpt-3.5-turbo&quot;))  </span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># å‡†å¤‡æ•°æ®é›†  </span></span><br><span class="line">data = &#123;  </span><br><span class="line">    <span class="string">&quot;question&quot;</span>: [  </span><br><span class="line">        <span class="string">&quot;Who is the main character in Black Myth: Wukong?&quot;</span>,  </span><br><span class="line">        <span class="string">&quot;What are the special features of the combat system in Black Myth: Wukong?&quot;</span>,  </span><br><span class="line">        <span class="string">&quot;How is the visual quality of Black Myth: Wukong?&quot;</span>,  </span><br><span class="line">    ],  </span><br><span class="line">    <span class="string">&quot;answer&quot;</span>: [  </span><br><span class="line">        <span class="string">&quot;The main character in Black Myth: Wukong is Sun Wukong, based on the Chinese classic &#x27;Journey to the West&#x27; but with a new interpretation. This version of Sun Wukong is more mature and brooding, showing a different personality from the traditional character.&quot;</span>,  </span><br><span class="line">        <span class="string">&quot;Black Myth: Wukong&#x27;s combat system combines Chinese martial arts with Soulslike game features, including light and heavy attack combinations, technique transformations, and magic systems. Notably, Wukong can transform between different weapon forms during combat, such as his iconic staff and nunchucks, and use various mystical abilities.&quot;</span>,  </span><br><span class="line">        <span class="string">&quot;Black Myth: Wukong is developed using Unreal Engine 5, showcasing stunning visual quality. The game&#x27;s scene modeling, lighting effects, and character details are all top-tier, particularly in its detailed recreation of traditional Chinese architecture and mythological settings.&quot;</span>,  </span><br><span class="line">    ],  </span><br><span class="line">    <span class="string">&quot;contexts&quot;</span>: [  </span><br><span class="line">        [  </span><br><span class="line">            <span class="string">&quot;Black Myth: Wukong is an action RPG developed by Game Science, featuring Sun Wukong as the protagonist based on &#x27;Journey to the West&#x27; but with innovative interpretations. In the game, Wukong has a more composed personality and carries a special mission.&quot;</span>,  </span><br><span class="line">            <span class="string">&quot;The game is set in a mythological world, telling a new story that presents a different take on the traditional Sun Wukong character.&quot;</span>  </span><br><span class="line">        ],  </span><br><span class="line">        [  </span><br><span class="line">            <span class="string">&quot;The game&#x27;s combat system is heavily influenced by Soulslike games while incorporating traditional Chinese martial arts elements. Players can utilize different weapon forms, including the iconic staff and other transforming weapons.&quot;</span>,  </span><br><span class="line">            <span class="string">&quot;During combat, players can unleash various mystical abilities, combined with light and heavy attacks and combo systems, creating a fluid and distinctive combat experience. The game also features a unique transformation system.&quot;</span>  </span><br><span class="line">        ],  </span><br><span class="line">        [  </span><br><span class="line">            <span class="string">&quot;Black Myth: Wukong demonstrates exceptional visual quality, built with Unreal Engine 5, achieving extremely high graphical fidelity. The game&#x27;s environments and character models are meticulously crafted.&quot;</span>,  </span><br><span class="line">            <span class="string">&quot;The lighting effects, material rendering, and environmental details all reach AAA-level standards, perfectly capturing the atmosphere of an Eastern mythological world.&quot;</span>  </span><br><span class="line">        ]  </span><br><span class="line">    ]  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">dataset = Dataset.from_dict(data)  </span><br><span class="line">  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\n=== Ragasè¯„ä¼°æŒ‡æ ‡è¯´æ˜ ===&quot;</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\n1. Faithfulnessï¼ˆå¿ å®åº¦ï¼‰&quot;</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;- è¯„ä¼°ç”Ÿæˆçš„ç­”æ¡ˆæ˜¯å¦å¿ å®äºä¸Šä¸‹æ–‡å†…å®¹&quot;</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;- é€šè¿‡å°†ç­”æ¡ˆåˆ†è§£ä¸ºç®€å•é™ˆè¿°ï¼Œç„¶åéªŒè¯æ¯ä¸ªé™ˆè¿°æ˜¯å¦å¯ä»¥ä»ä¸Šä¸‹æ–‡ä¸­æ¨æ–­å¾—å‡º&quot;</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;- è¯¥æŒ‡æ ‡ä»…ä¾èµ–LLMï¼Œä¸éœ€è¦embeddingæ¨¡å‹&quot;</span>)  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># è¯„ä¼°Faithfulness  </span></span><br><span class="line">faithfulness_metric = [Faithfulness(llm=llm)] <span class="comment"># åªéœ€è¦æä¾›ç”Ÿæˆæ¨¡å‹  </span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\næ­£åœ¨è¯„ä¼°å¿ å®åº¦...&quot;</span>)  </span><br><span class="line">faithfulness_result = evaluate(dataset, faithfulness_metric)  </span><br><span class="line">scores = faithfulness_result[<span class="string">&#x27;faithfulness&#x27;</span>]  </span><br><span class="line">mean_score = np.mean(scores) <span class="keyword">if</span> <span class="built_in">isinstance</span>(scores, (<span class="built_in">list</span>, np.ndarray)) <span class="keyword">else</span> scores  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;å¿ å®åº¦è¯„åˆ†: <span class="subst">&#123;mean_score:<span class="number">.4</span>f&#125;</span>&quot;</span>)  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># print(&quot;\n2. AnswerRelevancyï¼ˆç­”æ¡ˆç›¸å…³æ€§ï¼‰&quot;)  </span></span><br><span class="line"><span class="comment"># print(&quot;- è¯„ä¼°ç”Ÿæˆçš„ç­”æ¡ˆä¸é—®é¢˜çš„ç›¸å…³ç¨‹åº¦&quot;)  </span></span><br><span class="line"><span class="comment"># print(&quot;- ä½¿ç”¨embeddingæ¨¡å‹è®¡ç®—è¯­ä¹‰ç›¸ä¼¼åº¦&quot;)  </span></span><br><span class="line"><span class="comment"># print(&quot;- æˆ‘ä»¬å°†æ¯”è¾ƒå¼€æºembeddingæ¨¡å‹å’ŒOpenAIçš„embeddingæ¨¡å‹&quot;)  </span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># è®¾ç½®ä¸¤ç§embeddingæ¨¡å‹  </span></span><br><span class="line">opensource_embedding = LangchainEmbeddingsWrapper(  </span><br><span class="line">    HuggingFaceEmbeddings(model_name=<span class="string">&quot;sentence-transformers/all-MiniLM-L6-v2&quot;</span>)  </span><br><span class="line">)  </span><br><span class="line">openai_embedding = LangchainEmbeddingsWrapper(OpenAIEmbeddings(model=<span class="string">&quot;text-embedding-ada-002&quot;</span>))  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># åˆ›å»ºç­”æ¡ˆç›¸å…³æ€§è¯„ä¼°æŒ‡æ ‡  </span></span><br><span class="line">opensource_relevancy = [AnswerRelevancy(llm=llm, embeddings=opensource_embedding)]  </span><br><span class="line">openai_relevancy = [AnswerRelevancy(llm=llm, embeddings=openai_embedding)]  </span><br><span class="line">  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\næ­£åœ¨è¯„ä¼°ç­”æ¡ˆç›¸å…³æ€§...&quot;</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\nä½¿ç”¨å¼€æºEmbeddingæ¨¡å‹è¯„ä¼°:&quot;</span>)  </span><br><span class="line">opensource_result = evaluate(dataset, opensource_relevancy)  </span><br><span class="line">scores = opensource_result[<span class="string">&#x27;answer_relevancy&#x27;</span>]  </span><br><span class="line">opensource_mean = np.mean(scores) <span class="keyword">if</span> <span class="built_in">isinstance</span>(scores, (<span class="built_in">list</span>, np.ndarray)) <span class="keyword">else</span> scores  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;ç›¸å…³æ€§è¯„åˆ†: <span class="subst">&#123;opensource_mean:<span class="number">.4</span>f&#125;</span>&quot;</span>)  </span><br><span class="line">  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\nä½¿ç”¨OpenAI Embeddingæ¨¡å‹è¯„ä¼°:&quot;</span>)  </span><br><span class="line">openai_result = evaluate(dataset, openai_relevancy)  </span><br><span class="line">scores = openai_result[<span class="string">&#x27;answer_relevancy&#x27;</span>]  </span><br><span class="line">openai_mean = np.mean(scores) <span class="keyword">if</span> <span class="built_in">isinstance</span>(scores, (<span class="built_in">list</span>, np.ndarray)) <span class="keyword">else</span> scores  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;ç›¸å…³æ€§è¯„åˆ†: <span class="subst">&#123;openai_mean:<span class="number">.4</span>f&#125;</span>&quot;</span>)  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># æ¯”è¾ƒä¸¤ç§embeddingæ¨¡å‹çš„ç»“æœ  </span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\n=== Embeddingæ¨¡å‹æ¯”è¾ƒ ===&quot;</span>)  </span><br><span class="line">diff = openai_mean - opensource_mean  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;å¼€æºæ¨¡å‹è¯„åˆ†: <span class="subst">&#123;opensource_mean:<span class="number">.4</span>f&#125;</span>&quot;</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;OpenAIæ¨¡å‹è¯„åˆ†: <span class="subst">&#123;openai_mean:<span class="number">.4</span>f&#125;</span>&quot;</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;å·®å¼‚: <span class="subst">&#123;diff:<span class="number">.4</span>f&#125;</span> (<span class="subst">&#123;<span class="string">&#x27;OpenAIæ›´å¥½&#x27;</span> <span class="keyword">if</span> diff &gt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">&#x27;å¼€æºæ¨¡å‹æ›´å¥½&#x27;</span> <span class="keyword">if</span> diff &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">&#x27;ç›¸å½“&#x27;</span>&#125;</span>)&quot;</span>)  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;  </span></span><br><span class="line"><span class="string">æˆ‘åšäº†ä»¥ä¸‹ä¿®æ”¹ï¼š  </span></span><br><span class="line"><span class="string">ç§»é™¤äº† ragas.embeddings.base ä¸­çš„ HuggingfaceEmbeddings å¯¼å…¥  </span></span><br><span class="line"><span class="string">æ”¹ä¸ºå¯¼å…¥ LangChain çš„ HuggingFaceEmbeddingsä½¿ç”¨ LangchainEmbeddingsWrapper æ¥åŒ…è£… LangChain çš„ HuggingFaceEmbeddingsè¿™æ ·åšçš„åŸå› æ˜¯ï¼š  </span></span><br><span class="line"><span class="string">LangChain çš„ HuggingFaceEmbeddings æ˜¯ä¸€ä¸ªå®Œæ•´çš„å®ç°ï¼ŒåŒ…å«äº†æ‰€æœ‰å¿…è¦çš„æ–¹æ³•  </span></span><br><span class="line"><span class="string">LangchainEmbeddingsWrapper ä¼šå°† LangChain çš„åµŒå…¥æ¨¡å‹é€‚é…åˆ° RAGAS çš„æ¥å£  </span></span><br><span class="line"><span class="string">è¿™ä¸ªåŒ…è£…å™¨ä¼šè‡ªåŠ¨å¤„ç†åŒæ­¥å’Œå¼‚æ­¥æ–¹æ³•çš„è½¬æ¢  </span></span><br><span class="line"><span class="string">1. Faithfulnessï¼ˆå¿ å®åº¦ï¼‰  </span></span><br><span class="line"><span class="string">- è¯„ä¼°ç”Ÿæˆçš„ç­”æ¡ˆæ˜¯å¦å¿ å®äºä¸Šä¸‹æ–‡å†…å®¹  </span></span><br><span class="line"><span class="string">- é€šè¿‡å°†ç­”æ¡ˆåˆ†è§£ä¸ºç®€å•é™ˆè¿°ï¼Œç„¶åéªŒè¯æ¯ä¸ªé™ˆè¿°æ˜¯å¦å¯ä»¥ä»ä¸Šä¸‹æ–‡ä¸­æ¨æ–­å¾—å‡º  </span></span><br><span class="line"><span class="string">- è¯¥æŒ‡æ ‡ä»…ä¾èµ–LLMï¼Œä¸éœ€è¦embeddingæ¨¡å‹  </span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">æ­£åœ¨è¯„ä¼°å¿ å®åº¦...  </span></span><br><span class="line"><span class="string">Evaluating: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:05&lt;00:00,  1.87s/it]  </span></span><br><span class="line"><span class="string">å¿ å®åº¦è¯„åˆ†: 0.6071  </span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">æ­£åœ¨è¯„ä¼°ç­”æ¡ˆç›¸å…³æ€§...  </span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">ä½¿ç”¨å¼€æºEmbeddingæ¨¡å‹è¯„ä¼°:  </span></span><br><span class="line"><span class="string">Evaluating: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:01&lt;00:00,  1.54it/s]  </span></span><br><span class="line"><span class="string">ç›¸å…³æ€§è¯„åˆ†: 0.8565  </span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">ä½¿ç”¨OpenAI Embeddingæ¨¡å‹è¯„ä¼°:  </span></span><br><span class="line"><span class="string">Evaluating: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:06&lt;00:00,  2.11s/it]  </span></span><br><span class="line"><span class="string">ç›¸å…³æ€§è¯„åˆ†: 0.9426  </span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">=== Embeddingæ¨¡å‹æ¯”è¾ƒ ===å¼€æºæ¨¡å‹è¯„åˆ†: 0.8565  </span></span><br><span class="line"><span class="string">OpenAIæ¨¡å‹è¯„åˆ†: 0.9426  </span></span><br><span class="line"><span class="string">å·®å¼‚: 0.0861 (OpenAIæ›´å¥½)  </span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="13-4-2-Trulens"><a href="#13-4-2-Trulens" class="headerlink" title="13.4.2 Trulens"></a>13.4.2 Trulens</h3><p>ä½¿ç”¨ <strong>TruLens</strong> å¯¹ä½ çš„ LLM å®éªŒè¿›è¡Œç³»ç»ŸåŒ–è¯„ä¼°ä¸è¿½è¸ªã€‚åœ¨ä½ å¼€å‘åº”ç”¨çš„è¿‡ç¨‹ä¸­ï¼ŒåŒ…æ‹¬æç¤ºè¯ã€æ¨¡å‹ã€æ£€ç´¢å™¨ã€çŸ¥è¯†æºç­‰ï¼ŒTruLens éƒ½æ˜¯ä½ ç†è§£å…¶æ€§èƒ½è¡¨ç°çš„å…³é”®å·¥å…·ã€‚<br>TruLens æä¾›ç»†ç²’åº¦ã€ä¸æŠ€æœ¯æ ˆæ— å…³çš„åŸ‹ç‚¹æœºåˆ¶å’Œå…¨é¢çš„è¯„ä¼°ä½“ç³»ï¼Œå¸®åŠ©ä½ è¯†åˆ«å¤±è´¥æ¨¡å¼ï¼Œå¹¶è¿›è¡Œç³»ç»Ÿæ€§è¿­ä»£ï¼ŒæŒç»­ä¼˜åŒ–åº”ç”¨ã€‚<br>æ·±å…¥äº†è§£ TruLens èƒŒåçš„æ ¸å¿ƒæ¦‚å¿µï¼ŒåŒ…æ‹¬ <strong>åé¦ˆå‡½æ•°ï¼ˆFeedback Functionsï¼‰</strong>ã€<strong>RAG ä¸‰è¦ç´ ï¼ˆThe RAG Triadï¼‰</strong>ï¼Œä»¥åŠ <strong>è¯šå®ã€æ— å®³ã€æœ‰ç”¨è¯„ä¼°æ³•ï¼ˆHonest, Harmless and Helpful Evalsï¼‰</strong>ã€‚</p>
<p>é¡¹ç›®åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/truera/trulens">https://github.com/truera/trulens</a></p>
<h3 id="13-4-3-DeepEval"><a href="#13-4-3-DeepEval" class="headerlink" title="13.4.3 DeepEval"></a>13.4.3 DeepEval</h3><p>DeepEval æ˜¯ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„å¼€æº LLM è¯„ä¼°æ¡†æ¶ï¼Œä¸“ä¸ºå¤§è¯­è¨€æ¨¡å‹ç³»ç»Ÿçš„è¯„ä¼°ä¸æµ‹è¯•è€Œè®¾è®¡ã€‚å®ƒç±»ä¼¼äº Pytestï¼Œä½†ä¸“æ³¨äºå¯¹ LLM è¾“å‡ºç»“æœè¿›è¡Œå•å…ƒæµ‹è¯•ã€‚</p>
<p>DeepEval èåˆäº†æœ€æ–°çš„ç ”ç©¶æˆæœï¼Œæ”¯æŒåŸºäºå¤šç§æŒ‡æ ‡è¯„ä¼° LLM è¾“å‡ºï¼ŒåŒ…æ‹¬ G-Evalã€å¹»è§‰æ£€æµ‹ï¼ˆHallucinationï¼‰ã€ç­”æ¡ˆç›¸å…³æ€§ï¼ˆAnswer Relevancyï¼‰ã€RAGAS ç­‰ã€‚è¿™äº›æŒ‡æ ‡åˆ©ç”¨æœ¬åœ°è¿è¡Œçš„ LLM å’Œå„ç§ NLP æ¨¡å‹è¿›è¡Œè¯„ä¼°ï¼Œæ— éœ€ä¾èµ–äº‘ç«¯æœåŠ¡ã€‚</p>
<p>æ— è®ºä½ çš„ LLM åº”ç”¨æ˜¯ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æµç¨‹ã€èŠå¤©æœºå™¨äººã€AI æ™ºèƒ½ä½“ï¼Œè¿˜æ˜¯é€šè¿‡ LangChain æˆ– LlamaIndex å®ç°çš„ï¼ŒDeepEval éƒ½èƒ½ä¸ºä½ æä¾›æ”¯æŒã€‚å€ŸåŠ© DeepEvalï¼Œä½ å¯ä»¥è½»æ¾ç¡®å®šæœ€ä¼˜çš„æ¨¡å‹ã€æç¤ºè¯å’Œæ¶æ„ï¼Œä»¥ä¼˜åŒ– RAG æµç¨‹å’Œæ™ºèƒ½ä½“å·¥ä½œæµï¼Œé˜²æ­¢æç¤ºè¯æ¼‚ç§»ï¼Œç”šè‡³è‡ªä¿¡åœ°ä» OpenAI å¹³æ»‘è¿ç§»åˆ°è‡ªéƒ¨ç½²çš„ Deepseek R1ã€‚</p>
<p>é¡¹ç›®åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/confident-ai/deepeval">https://github.com/confident-ai/deepeval</a></p>
<h3 id="13-4-4-Phoenix"><a href="#13-4-4-Phoenix" class="headerlink" title="13.4.4 Phoenix"></a>13.4.4 Phoenix</h3><p>Phoenix æ˜¯ä¸€ä¸ªå¼€æºçš„ AI å¯è§‚æµ‹æ€§å¹³å°ï¼Œä¸“ä¸ºå®éªŒã€è¯„ä¼°å’Œæ•…éšœæ’æŸ¥è€Œè®¾è®¡ã€‚å®ƒæä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š<br>â€¢   è¿½è¸ªï¼ˆTracingï¼‰ï¼šä½¿ç”¨åŸºäº OpenTelemetry çš„åŸ‹ç‚¹æœºåˆ¶ï¼Œè¿½è¸ªä½ çš„ LLM åº”ç”¨è¿è¡Œæ—¶çš„è¡Œä¸ºã€‚<br>â€¢   è¯„ä¼°ï¼ˆEvaluationï¼‰ï¼šå€ŸåŠ© LLM å¯¹åº”ç”¨çš„å“åº”è´¨é‡å’Œæ£€ç´¢æ•ˆæœè¿›è¡ŒåŸºå‡†è¯„ä¼°ã€‚<br>â€¢   æ•°æ®é›†ï¼ˆDatasetsï¼‰ï¼šåˆ›å»ºå¯ç‰ˆæœ¬ç®¡ç†çš„ç¤ºä¾‹æ•°æ®é›†ï¼Œç”¨äºå®éªŒã€è¯„ä¼°å’Œå¾®è°ƒã€‚<br>â€¢   å®éªŒï¼ˆExperimentsï¼‰ï¼šè·Ÿè¸ªå¹¶è¯„ä¼°æç¤ºè¯ã€LLMæ¨¡å‹å’Œæ£€ç´¢æ–¹å¼çš„å˜åŒ–æ•ˆæœã€‚<br>â€¢   æ²™ç›’ï¼ˆPlaygroundï¼‰ï¼šä¼˜åŒ–æç¤ºè¯ã€å¯¹æ¯”æ¨¡å‹ã€è°ƒæ•´å‚æ•°ï¼Œå¹¶å›æ”¾å·²è¿½è¸ªçš„ LLM è°ƒç”¨ã€‚<br>â€¢   æç¤ºè¯ç®¡ç†ï¼ˆPrompt Managementï¼‰ï¼šé€šè¿‡ç‰ˆæœ¬æ§åˆ¶ã€æ ‡ç­¾å’Œå®éªŒæœºåˆ¶ï¼Œç³»ç»ŸåŒ–åœ°ç®¡ç†å’Œæµ‹è¯•æç¤ºè¯çš„å˜æ›´ã€‚</p>
<p>Phoenix ä¸ä¾èµ–ç‰¹å®šå‚å•†æˆ–ç¼–ç¨‹è¯­è¨€ï¼Œå¼€ç®±å³ç”¨åœ°æ”¯æŒå¤šä¸ªä¸»æµæ¡†æ¶ï¼ˆå¦‚ ğŸ¦™LlamaIndexã€ğŸ¦œâ›“LangChainã€Haystackã€ğŸ§©DSPyã€ğŸ¤—smolagentsï¼‰ä»¥åŠä¸»æµ LLM æä¾›å•†ï¼ˆå¦‚ OpenAIã€Bedrockã€MistralAIã€VertexAIã€LiteLLMã€Google GenAI ç­‰ï¼‰ã€‚<br>å…³äºè‡ªåŠ¨åŒ–åŸ‹ç‚¹çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒ OpenInference é¡¹ç›®ã€‚</p>
<p>é¡¹ç›®åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/Arize-ai/phoenix">https://github.com/Arize-ai/phoenix</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://baihlup.github.io">æ¢¦ä¹‹ç—•</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://baihlup.github.io/2025/05/28/250%20-%20%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD&amp;%E5%A4%A7%E6%95%B0%E6%8D%AE/257%20-%20AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B/10%20-%20%E5%A4%A7%E6%A8%A1%E5%9E%8BRAG%E8%BF%9B%E9%98%B6%E5%AE%9E%E6%88%98%E8%90%A5/">https://baihlup.github.io/2025/05/28/250%20-%20%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD&amp;%E5%A4%A7%E6%95%B0%E6%8D%AE/257%20-%20AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B/10%20-%20%E5%A4%A7%E6%A8%A1%E5%9E%8BRAG%E8%BF%9B%E9%98%B6%E5%AE%9E%E6%88%98%E8%90%A5/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/RAG/">RAG</a></div><div class="post_share"><div class="social-share" data-image="https://raw.githubusercontent.com/BaihlUp/Figurebed/master/2024/41710043961_.pic.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/07/25/280%20-%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/281%20-%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/02%20-%20eBPF%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98/" title="eBPFæ ¸å¿ƒæŠ€æœ¯ä¸å®æˆ˜"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Previous</div><div class="prev_info">eBPFæ ¸å¿ƒæŠ€æœ¯ä¸å®æˆ˜</div></div></a></div><div class="next-post pull-right"><a href="/2025/04/29/250%20-%20%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD&amp;%E5%A4%A7%E6%95%B0%E6%8D%AE/257%20-%20AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B/09%20-%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%20RAG%20%E7%9A%84%E5%BA%94%E7%94%A8%E5%92%8C%E5%BC%80%E5%8F%91/" title="å¤§æ¨¡å‹ RAG çš„åº”ç”¨å’Œå¼€å‘"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Next</div><div class="next_info">å¤§æ¨¡å‹ RAG çš„åº”ç”¨å’Œå¼€å‘</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2025/04/29/250%20-%20%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD&%E5%A4%A7%E6%95%B0%E6%8D%AE/257%20-%20AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B/09%20-%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%20RAG%20%E7%9A%84%E5%BA%94%E7%94%A8%E5%92%8C%E5%BC%80%E5%8F%91/" title="å¤§æ¨¡å‹ RAG çš„åº”ç”¨å’Œå¼€å‘"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-29</div><div class="title">å¤§æ¨¡å‹ RAG çš„åº”ç”¨å’Œå¼€å‘</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://raw.githubusercontent.com/BaihlUp/Figurebed/master/2024/41710043961_.pic.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">æ¢¦ä¹‹ç—•</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">65</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">48</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">17</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/BaihlUp"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">ä¸ªäººç¬”è®°è¿ç§»ä¸­ing....</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#0-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">1.</span> <span class="toc-text">0 å‚è€ƒèµ„æ–™</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#13-%E8%AF%84%E4%BC%B0RAG%E7%B3%BB%E7%BB%9F"><span class="toc-number">2.</span> <span class="toc-text">13 è¯„ä¼°RAGç³»ç»Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#13-1-RAG%E7%B3%BB%E7%BB%9F%E8%AF%84%E4%BC%B0"><span class="toc-number">2.1.</span> <span class="toc-text">13.1 RAGç³»ç»Ÿè¯„ä¼°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-2-%E6%A3%80%E7%B4%A2%E5%99%A8%E7%9A%84%E8%AF%84%E4%BC%B0%E6%8C%87%E6%A0%87"><span class="toc-number">2.2.</span> <span class="toc-text">13.2 æ£€ç´¢å™¨çš„è¯„ä¼°æŒ‡æ ‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#13-2-1-%E7%B2%BE%E7%A1%AE%E7%8E%87-Precision"><span class="toc-number">2.2.1.</span> <span class="toc-text">13.2.1 ç²¾ç¡®ç‡ Precision</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-2-2-%E5%8F%AC%E5%9B%9E%E7%8E%87-Recall"><span class="toc-number">2.2.2.</span> <span class="toc-text">13.2.2 å¬å›ç‡ Recall</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-2-3-F1-%E5%88%86%E6%95%B0"><span class="toc-number">2.2.3.</span> <span class="toc-text">13.2.3 F1 åˆ†æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-2-4-%E5%B9%B3%E5%9D%87%E5%80%92%E6%95%B0%E6%8E%92%E5%90%8D"><span class="toc-number">2.2.4.</span> <span class="toc-text">13.2.4 å¹³å‡å€’æ•°æ’å</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-2-5-%E5%B9%B3%E5%9D%87%E7%B2%BE%E7%A1%AE%E7%8E%87"><span class="toc-number">2.2.5.</span> <span class="toc-text">13.2.5 å¹³å‡ç²¾ç¡®ç‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-2-6-P-K"><span class="toc-number">2.2.6.</span> <span class="toc-text">13.2.6 P@K</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-2-7-%E6%80%BB%E7%BB%93"><span class="toc-number">2.2.7.</span> <span class="toc-text">13.2.7 æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-3-%E7%94%9F%E6%88%90%E5%99%A8%E7%9A%84%E8%AF%84%E4%BC%B0%E6%8C%87%E6%A0%87"><span class="toc-number">2.3.</span> <span class="toc-text">13.3 ç”Ÿæˆå™¨çš„è¯„ä¼°æŒ‡æ ‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#13-3-1-%E5%9F%BA%E4%BA%8En-gram%E5%8C%B9%E9%85%8D%E7%A8%8B%E5%BA%A6%E7%9A%84%E6%8C%87%E6%A0%87%EF%BC%9ABLEU"><span class="toc-number">2.3.1.</span> <span class="toc-text">13.3.1 åŸºäºn-gramåŒ¹é…ç¨‹åº¦çš„æŒ‡æ ‡ï¼šBLEU</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-3-2-%E5%9F%BA%E4%BA%8En-gram%E5%8C%B9%E9%85%8D%E7%A8%8B%E5%BA%A6%E7%9A%84%E6%8C%87%E6%A0%87%EF%BC%9AROUGE"><span class="toc-number">2.3.2.</span> <span class="toc-text">13.3.2 åŸºäºn-gramåŒ¹é…ç¨‹åº¦çš„æŒ‡æ ‡ï¼šROUGE</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-3-3-%E5%9F%BA%E4%BA%8En-gram%E5%8C%B9%E9%85%8D%E7%A8%8B%E5%BA%A6%E7%9A%84%E6%8C%87%E6%A0%87%EF%BC%9AMETEOR"><span class="toc-number">2.3.3.</span> <span class="toc-text">13.3.3 åŸºäºn-gramåŒ¹é…ç¨‹åº¦çš„æŒ‡æ ‡ï¼šMETEOR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-3-4-%E5%9F%BA%E4%BA%8E%E8%AF%AD%E4%B9%89%E7%9B%B8%E4%BC%BC%E6%80%A7%E7%9A%84%E6%8C%87%E6%A0%87"><span class="toc-number">2.3.4.</span> <span class="toc-text">13.3.4 åŸºäºè¯­ä¹‰ç›¸ä¼¼æ€§çš„æŒ‡æ ‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-3-5-%E5%9F%BA%E4%BA%8E%E5%BF%A0%E5%AE%9E%E5%BA%A6%E6%88%96%E6%89%8E%E5%AE%9E%E6%80%A7%E7%9A%84%E6%8C%87%E6%A0%87"><span class="toc-number">2.3.5.</span> <span class="toc-text">13.3.5 åŸºäºå¿ å®åº¦æˆ–æ‰å®æ€§çš„æŒ‡æ ‡</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-4-RAG-%E8%AF%84%E4%BC%B0%E6%A1%86%E6%9E%B6-%E5%B7%A5%E5%85%B7"><span class="toc-number">2.4.</span> <span class="toc-text">13.4 RAG è¯„ä¼°æ¡†æ¶&#x2F;å·¥å…·</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#13-4-1-RAGAS"><span class="toc-number">2.4.1.</span> <span class="toc-text">13.4.1 RAGAS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-4-2-Trulens"><span class="toc-number">2.4.2.</span> <span class="toc-text">13.4.2 Trulens</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-4-3-DeepEval"><span class="toc-number">2.4.3.</span> <span class="toc-text">13.4.3 DeepEval</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-4-4-Phoenix"><span class="toc-number">2.4.4.</span> <span class="toc-text">13.4.4 Phoenix</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/07/25/280%20-%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/281%20-%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/02%20-%20eBPF%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98/" title="eBPFæ ¸å¿ƒæŠ€æœ¯ä¸å®æˆ˜">eBPFæ ¸å¿ƒæŠ€æœ¯ä¸å®æˆ˜</a><time datetime="2025-07-25T00:00:00.000Z" title="Created 2025-07-25 00:00:00">2025-07-25</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/28/250%20-%20%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD&amp;%E5%A4%A7%E6%95%B0%E6%8D%AE/257%20-%20AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B/10%20-%20%E5%A4%A7%E6%A8%A1%E5%9E%8BRAG%E8%BF%9B%E9%98%B6%E5%AE%9E%E6%88%98%E8%90%A5/" title="10 - å¤§æ¨¡å‹RAGè¿›é˜¶å®æˆ˜è¥">10 - å¤§æ¨¡å‹RAGè¿›é˜¶å®æˆ˜è¥</a><time datetime="2025-05-28T00:00:00.000Z" title="Created 2025-05-28 00:00:00">2025-05-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/29/250%20-%20%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD&amp;%E5%A4%A7%E6%95%B0%E6%8D%AE/257%20-%20AI%20%E5%A4%A7%E6%A8%A1%E5%9E%8B/09%20-%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%20RAG%20%E7%9A%84%E5%BA%94%E7%94%A8%E5%92%8C%E5%BC%80%E5%8F%91/" title="å¤§æ¨¡å‹ RAG çš„åº”ç”¨å’Œå¼€å‘">å¤§æ¨¡å‹ RAG çš„åº”ç”¨å’Œå¼€å‘</a><time datetime="2025-04-29T00:00:00.000Z" title="Created 2025-04-29 00:00:00">2025-04-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/02/12/260%20-%20%E5%90%8E%E7%AB%AF&amp;%E6%9E%B6%E6%9E%84/263%20-%20%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1/06%20-%20WASM%20%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/" title="06 - WASM æ’ä»¶å¼€å‘">06 - WASM æ’ä»¶å¼€å‘</a><time datetime="2025-02-12T00:00:00.000Z" title="Created 2025-02-12 00:00:00">2025-02-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/28/270%20-%20%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/279%20-%20%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/02%20-%20%E8%AE%B0%E5%BD%95%E8%AE%BF%E9%97%AE%20HTTPS%20%E7%BD%91%E7%AB%99%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98/" title="è®°å½•è®¿é—® HTTPS ç½‘ç«™æŠ¥é”™é—®é¢˜">è®°å½•è®¿é—® HTTPS ç½‘ç«™æŠ¥é”™é—®é¢˜</a><time datetime="2024-09-28T00:00:00.000Z" title="Created 2024-09-28 00:00:00">2024-09-28</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By æ¢¦ä¹‹ç—•</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>